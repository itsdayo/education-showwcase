{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _taggedTemplateLiteral from\"/Users/oladayoogundipe/Showwcase-React-Challenge/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/oladayoogundipe/Showwcase-React-Challenge/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n border-width:5px;\\n border-color:black;\\n max-height: 150px;\\n width:200px;\\n overflow: scroll;\\n \\n .options{\\n    border-width:5px;\\n border-color:black;  \\n }\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import{Field}from\"formik\";import styled from'styled-components';var AutoComplete=function AutoComplete(_ref){var options=_ref.options,schoolSelectorChange=_ref.schoolSelectorChange;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeOption=_useState2[0],setActiveOption=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredOptions=_useState4[0],setFilteredOptions=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showOptions=_useState6[0],setShowOptions=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userInput=_useState8[0],setUserInput=_useState8[1];var onChange=function onChange(e){console.log('onChanges');var userInput=e.currentTarget.value;//find the school that matches the user input\nvar filteredOptions=options.filter(function(optionName){return optionName.toLowerCase().indexOf(userInput.toLowerCase())>-1;});var arry=filteredOptions;setActiveOption(0);setFilteredOptions(arry);setShowOptions(true);setUserInput(e.currentTarget.value);};var onClick=function onClick(e){setActiveOption(0);setFilteredOptions([]);setShowOptions(false);setUserInput(e.currentTarget.innerText);schoolSelectorChange(e.currentTarget.innerText);};var onKeyDown=function onKeyDown(e){if(e.keyCode===13){setActiveOption(0);setShowOptions(false);setUserInput(filteredOptions[activeOption]);}else if(e.keyCode===38){if(activeOption===0){return;}setActiveOption(activeOption-1);}else if(e.keyCode===40){if(activeOption===filteredOptions.length-1){console.log(activeOption);return;}setActiveOption(activeOption+1);schoolSelectorChange(userInput);}};var Options=styled.div(_templateObject());var optionList;if(showOptions&&userInput){if(filteredOptions.length){optionList=/*#__PURE__*/_jsx(Options,{children:/*#__PURE__*/_jsx(\"div\",{style:{overflow:'scroll'},children:filteredOptions.map(function(optionName,index){var className;if(index===activeOption){className='option-active';}return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:10},className:\"options\",onClick:onClick,children:optionName},optionName);})})});}else{optionList=/*#__PURE__*/_jsx(\"div\",{className:\"no-options\",children:/*#__PURE__*/_jsx(\"em\",{children:\"No Option!\"})});}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"name\",className:\"search-box\",placeholder:\"Enter the school name\",onChange:onChange,onKeyDown:onKeyDown,value:userInput})}),optionList]});};export default AutoComplete;","map":{"version":3,"sources":["/Users/oladayoogundipe/Showwcase-React-Challenge/src/components/AutoComplete.tsx"],"names":["React","useState","Field","styled","AutoComplete","options","schoolSelectorChange","activeOption","setActiveOption","filteredOptions","setFilteredOptions","showOptions","setShowOptions","userInput","setUserInput","onChange","e","console","log","currentTarget","value","filter","optionName","toLowerCase","indexOf","arry","onClick","innerText","onKeyDown","keyCode","length","Options","div","optionList","overflow","map","index","className","marginTop"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAAwC,OAAxC,CAEA,OAAiBC,KAAjB,KAAqC,QAArC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAOA,GAAMC,CAAAA,YAA6B,CAAC,QAA9BA,CAAAA,YAA8B,MAAmC,IAAjCC,CAAAA,OAAiC,MAAjCA,OAAiC,CAAzBC,oBAAyB,MAAzBA,oBAAyB,eAG/BL,QAAQ,CAAC,CAAD,CAHuB,wCAGhEM,YAHgE,eAGlDC,eAHkD,8BAIzBP,QAAQ,CAAC,EAAD,CAJiB,yCAIhEQ,eAJgE,eAI/CC,kBAJ+C,8BAKnCT,QAAQ,CAAC,KAAD,CAL2B,yCAKhEU,WALgE,eAKnDC,cALmD,8BAMvCX,QAAQ,CAAC,EAAD,CAN+B,yCAMhEY,SANgE,eAMrDC,YANqD,eAQtE,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAA4C,CAC1DC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAGA,GAAML,CAAAA,SAAS,CAAGG,CAAC,CAACG,aAAF,CAAgBC,KAAlC,CACA;AACA,GAAMX,CAAAA,eAAe,CAAGJ,OAAO,CAACgB,MAAR,CACtB,SAACC,UAAD,QACEA,CAAAA,UAAU,CAACC,WAAX,GAAyBC,OAAzB,CAAiCX,SAAS,CAACU,WAAV,EAAjC,EAA4D,CAAC,CAD/D,EADsB,CAAxB,CAMA,GAAIE,CAAAA,IAAI,CAAEhB,eAAV,CAEAD,eAAe,CAAC,CAAD,CAAf,CACAE,kBAAkB,CAACe,IAAD,CAAlB,CACAb,cAAc,CAAC,IAAD,CAAd,CACAE,YAAY,CAACE,CAAC,CAACG,aAAF,CAAgBC,KAAjB,CAAZ,CAED,CAnBF,CAoBA,GAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACV,CAAD,CAAyE,CACtFR,eAAe,CAAC,CAAD,CAAf,CACAE,kBAAkB,CAAC,EAAD,CAAlB,CACAE,cAAc,CAAC,KAAD,CAAd,CACAE,YAAY,CAACE,CAAC,CAACG,aAAF,CAAgBQ,SAAjB,CAAZ,CACArB,oBAAoB,CAACU,CAAC,CAACG,aAAF,CAAgBQ,SAAjB,CAApB,CAGD,CARF,CAUA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACZ,CAAD,CAA6B,CAG5C,GAAIA,CAAC,CAACa,OAAF,GAAc,EAAlB,CAAsB,CAClBrB,eAAe,CAAC,CAAD,CAAf,CACAI,cAAc,CAAC,KAAD,CAAd,CACAE,YAAY,CAACL,eAAe,CAACF,YAAD,CAAhB,CAAZ,CAEH,CALD,IAKO,IAAIS,CAAC,CAACa,OAAF,GAAc,EAAlB,CAAsB,CAC3B,GAAItB,YAAY,GAAK,CAArB,CAAwB,CACtB,OACD,CACDC,eAAe,CAACD,YAAY,CAAC,CAAd,CAAf,CAED,CANM,IAMA,IAAIS,CAAC,CAACa,OAAF,GAAc,EAAlB,CAAsB,CAC3B,GAAItB,YAAY,GAAKE,eAAe,CAACqB,MAAhB,CAAyB,CAA9C,CAAiD,CAC/Cb,OAAO,CAACC,GAAR,CAAYX,YAAZ,EACA,OACD,CACDC,eAAe,CAACD,YAAY,CAAC,CAAd,CAAf,CAEAD,oBAAoB,CAACO,SAAD,CAApB,CAGD,CACF,CAzBF,CA2BC,GAAMkB,CAAAA,OAAO,CAAG5B,MAAM,CAAC6B,GAAV,mBAAb,CAcF,GAAIC,CAAAA,UAAJ,CACA,GAAGtB,WAAW,EAAIE,SAAlB,CAA4B,CACxB,GAAIJ,eAAe,CAACqB,MAApB,CAA4B,CACxBG,UAAU,cAET,KAAC,OAAD,wBACI,YAAK,KAAK,CAAE,CAACC,QAAQ,CAAC,QAAV,CAAZ,UACAzB,eAAe,CAAC0B,GAAhB,CAAoB,SAACb,UAAD,CAAac,KAAb,CAAuB,CAC1C,GAAIC,CAAAA,SAAJ,CACA,GAAID,KAAK,GAAK7B,YAAd,CAA4B,CAC1B8B,SAAS,CAAG,eAAZ,CACD,CACD,mBACE,YAAM,KAAK,CAAE,CAACC,SAAS,CAAC,EAAX,CAAb,CAA4B,SAAS,CAAC,SAAtC,CAAiE,OAAO,CAAEZ,OAA1E,UACGJ,UADH,EAAqDA,UAArD,CADF,CAKD,CAVA,CADA,EADJ,EAFD,CAkBD,CAnBH,IAmBS,CACLW,UAAU,cACR,YAAK,SAAS,CAAC,YAAf,uBACE,kCADF,EADF,CAKD,CACN,CAGC,mBACE,MAAC,KAAD,CAAO,QAAP,yBACA,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,YAHZ,CAIE,WAAW,CAAC,uBAJd,CAKE,QAAQ,CAAElB,QALZ,CAME,SAAS,CAAEa,SANb,CAOE,KAAK,CAAEf,SAPT,EADF,EADA,CAaCoB,UAbD,GADF,CAkBD,CAhID,CAmIA,cAAe7B,CAAAA,YAAf","sourcesContent":["import React,{useState, useEffect} from 'react';\n\nimport { Formik, Field, Form, } from \"formik\";\nimport styled from 'styled-components'\ninterface Props  {\n    options:string[];\n    schoolSelectorChange:any;\n}\n\n\nconst AutoComplete: React.FC<Props>=({options,schoolSelectorChange})=> {\n\n  \nconst [activeOption, setActiveOption] = useState(0);\nconst [filteredOptions, setFilteredOptions] = useState([]);\nconst [showOptions, setShowOptions]=useState(false)\nconst [userInput, setUserInput]=useState(\"\")\n\n const onChange = (e: { currentTarget: { value: any; }; }) => {\n    console.log('onChanges');\n\n    \n    const userInput = e.currentTarget.value;\n    //find the school that matches the user input\n    const filteredOptions = options.filter(\n      (optionName) =>\n        optionName.toLowerCase().indexOf(userInput.toLowerCase()) > -1\n\n    );\n\n    let arry= filteredOptions as any\n\n    setActiveOption(0)\n    setFilteredOptions(arry)\n    setShowOptions(true)\n    setUserInput(e.currentTarget.value)\n    \n  };\n const onClick = (e: { currentTarget: { innerText: React.SetStateAction<string>; }; }) => {\n    setActiveOption(0)\n    setFilteredOptions([])\n    setShowOptions(false)\n    setUserInput(e.currentTarget.innerText)\n    schoolSelectorChange(e.currentTarget.innerText)\n      \n   \n  };\n\n const onKeyDown = (e: { keyCode: number; }) => {\n    \n\n    if (e.keyCode === 13) {\n        setActiveOption(0)\n        setShowOptions(false)\n        setUserInput(filteredOptions[activeOption])\n      \n    } else if (e.keyCode === 38) {\n      if (activeOption === 0) {\n        return;\n      }\n      setActiveOption(activeOption-1)\n      \n    } else if (e.keyCode === 40) {\n      if (activeOption === filteredOptions.length - 1) {\n        console.log(activeOption);\n        return;\n      }\n      setActiveOption(activeOption+1)\n\n      schoolSelectorChange(userInput)\n      \n      \n    }\n  };\n\n  const Options = styled.div`\n border-width:5px;\n border-color:black;\n max-height: 150px;\n width:200px;\n overflow: scroll;\n \n .options{\n    border-width:5px;\n border-color:black;  \n }\n\n`;\n\nlet optionList\nif(showOptions && userInput){\n    if (filteredOptions.length) {\n        optionList = (\n         \n         <Options>\n             <div style={{overflow:'scroll'}}>\n            {filteredOptions.map((optionName, index) => {\n              let className;\n              if (index === activeOption) {\n                className = 'option-active';\n              }\n              return (\n                <div  style={{marginTop:10}}className=\"options\" key={optionName} onClick={onClick}>\n                  {optionName}\n                </div>\n              );\n            })}\n            </div>\n          </Options>\n        );\n      } else {\n        optionList = (\n          <div className=\"no-options\">\n            <em>No Option!</em>\n          </div>\n        );\n      } \n}\n\n\n  return (\n    <React.Fragment>\n    <div className=\"search\">\n      <Field\n        type=\"text\"\n        name=\"name\"\n        className=\"search-box\"\n        placeholder=\"Enter the school name\"\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        value={userInput}\n      />\n      </div>\n   \n    {optionList}\n  </React.Fragment>\n  \n  );\n}\n\n\nexport default AutoComplete;"]},"metadata":{},"sourceType":"module"}